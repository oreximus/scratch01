{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"/home/addiarch/Downloads/React_E-Commerce/src/pages/Login.jsx\",\n  _s = $RefreshSig$();\nimport * as Yup from \"yup\";\nimport { useFormik } from \"formik\";\nimport { redirect } from \"next/navigation\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport { Button } from \"@nextui-org/react\";\nimport EmailInput from \"@/components/emailInput/EmailInput\";\nimport PasswordInput from \"@/components/passwordInput/PasswordInput\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nimport { Navbar } from \"../components\";\nimport Footer from \"../components\";\nimport { auth } from \"@/lib/firebaseConfig\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [user, loading] = useAuthState(auth);\n  const validationSchema = Yup.object().shape({\n    email: Yup.string().email(\"invalid or incomplete email\").max(50, \"email is too long\").required(\"required\"),\n    password: Yup.string().min(6, \"password is too short must be at least 6 characters\").required(\"required\")\n  });\n  const formik = useFormik({\n    initialValues: {\n      email: \"\",\n      password: \"\"\n    },\n    validationSchema,\n    onSubmit: async ({\n      email,\n      password\n    }) => {\n      const res = await signInWithEmailAndPassword(auth, email, password);\n      if (res !== null && res !== void 0 && res.user) {\n        sessionStorage.setItem(\"user\", \"true\");\n        redirect(\"/\");\n      } else {\n        toast.error(\"Check your user information!\");\n      }\n    }\n  });\n  const {\n    errors,\n    values,\n    touched,\n    handleSubmit,\n    handleChange,\n    isSubmitting\n  } = formik;\n  if (typeof window !== \"undefined\") {\n    if (user && sessionStorage.getItem(\"user\")) return redirect(\"/\");\n  }\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Checking...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex min-h-screen items-center justify-center bg-black\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex w-full max-w-md flex-col rounded-lg bg-white p-8 shadow-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-black-1 mb-12 flex flex-col items-center justify-center gap-y-3\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold\",\n            children: \"Example App\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          noValidate: true,\n          onSubmit: handleSubmit,\n          className: \"flex flex-col gap-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(Toaster, {\n            position: \"top-right\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(EmailInput, {\n            handleChange: handleChange,\n            values: values,\n            errors: errors,\n            touched: touched\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(PasswordInput, {\n            handleChange: handleChange,\n            values: values,\n            errors: errors,\n            touched: touched\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            fullWidth: true,\n            type: \"submit\",\n            color: \"success\",\n            className: \"bg-primary rounded-lg px-6 py-3.5 text-lg text-white hover:bg-blue-600\",\n            isLoading: isSubmitting,\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-center text-sm text-gray-600\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/signup\",\n            className: \"text-blue-500\",\n            children: \"Sign up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true);\n};\n_s(Login, \"JKEZKZb68pY0EW1wJJoIDyuNI3k=\", false, function () {\n  return [useAuthState, useFormik];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","Yup","useFormik","redirect","toast","Toaster","Button","EmailInput","PasswordInput","useAuthState","signInWithEmailAndPassword","Navbar","Footer","auth","Link","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","user","loading","validationSchema","object","shape","email","string","max","required","password","min","formik","initialValues","onSubmit","res","sessionStorage","setItem","error","errors","values","touched","handleSubmit","handleChange","isSubmitting","window","getItem","children","fileName","lineNumber","columnNumber","className","noValidate","position","fullWidth","type","color","isLoading","href","_c","$RefreshReg$"],"sources":["/home/addiarch/Downloads/React_E-Commerce/src/pages/Login.jsx"],"sourcesContent":["\"use client\";\nimport * as Yup from \"yup\";\nimport { useFormik } from \"formik\";\nimport { redirect } from \"next/navigation\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport { Button } from \"@nextui-org/react\";\nimport EmailInput from \"@/components/emailInput/EmailInput\";\nimport PasswordInput from \"@/components/passwordInput/PasswordInput\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nimport { Navbar } from \"../components\";\nimport Footer from \"../components\";\n\nimport { auth } from \"@/lib/firebaseConfig\";\nimport { Link } from \"react-router-dom\";\n\nconst Login = () => {\n  const [user, loading] = useAuthState(auth);\n\n  const validationSchema = Yup.object().shape({\n    email: Yup.string()\n      .email(\"invalid or incomplete email\")\n      .max(50, \"email is too long\")\n      .required(\"required\"),\n    password: Yup.string()\n      .min(6, \"password is too short must be at least 6 characters\")\n      .required(\"required\"),\n  });\n\n  const formik = useFormik({\n    initialValues: {\n      email: \"\",\n      password: \"\",\n    },\n    validationSchema,\n    onSubmit: async ({\n      email,\n      password,\n    }: {\n      email: string;\n      password: string;\n    }) => {\n      const res = await signInWithEmailAndPassword(auth, email, password);\n      if (res?.user) {\n        sessionStorage.setItem(\"user\", \"true\");\n        redirect(\"/\");\n      } else {\n        toast.error(\"Check your user information!\");\n      }\n    },\n  });\n\n  const { errors, values, touched, handleSubmit, handleChange, isSubmitting } =\n    formik;\n\n  if (typeof window !== \"undefined\") {\n    if (user && sessionStorage.getItem(\"user\")) return redirect(\"/\");\n  }\n\n  if (loading) return <p>Checking...</p>;\n\n  return (\n  <>\n    <Navbar />\n    <div className=\"flex min-h-screen items-center justify-center bg-black\">\n      <div className=\"flex w-full max-w-md flex-col rounded-lg bg-white p-8 shadow-md\">\n        <div className=\"text-black-1 mb-12 flex flex-col items-center justify-center gap-y-3\">\n          <p className=\"text-2xl font-bold\">Example App</p>\n        </div>\n        <form\n          noValidate\n          onSubmit={handleSubmit}\n          className=\"flex flex-col gap-y-6\"\n        >\n          <Toaster position=\"top-right\" />\n          <EmailInput\n            handleChange={handleChange}\n            values={values}\n            errors={errors}\n            touched={touched}\n          />\n          <PasswordInput\n            handleChange={handleChange}\n            values={values}\n            errors={errors}\n            touched={touched}\n          />\n          <Button\n            fullWidth={true}\n            type=\"submit\"\n            color=\"success\"\n            className=\"bg-primary rounded-lg px-6 py-3.5 text-lg text-white hover:bg-blue-600\"\n            isLoading={isSubmitting}\n          >\n            Login\n          </Button>\n        </form>\n        <p className=\"mt-4 text-center text-sm text-gray-600\">\n          <Link href=\"/signup\" className=\"text-blue-500\">\n            Sign up\n          </Link>\n        </p>\n      </div>\n    </div>\n  <Footer />\n  </>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}